<div class="well well-plain">
  <div class="panel-heading" id="filterForm">
    <div class="form-group">
      <div class="row">
        <div class="col-md-12">
          <span class="help-block">
            Tips: Surround key word to search a whole string or string contains punctuation like "-" "."
          </span>

          <div class="input-group">
            <input type="text" class="form-control" [(ngModel)]="searchQuery" (keyup.enter)="search()">
            <span class="input-group-btn">
              <button class="btn btn-default" (click)="search()">Search</button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="panel panel-primary" *ngIf="instructors.length">
  <div class="panel-heading">
    <strong>Instructors Found</strong>
    <span class="pull-right">
      <button class="btn btn-primary btn-xs" type="button" (click)="showAllInstructorsLinks()">Expand All</button>
      <button class="btn btn-primary btn-xs" type="button" (click)="hideAllInstructorsLinks()">Collapse All</button>
    </span>
  </div>

  <div class="table-responsive">
    <table class="table table-striped data-table">
      <thead>
        <tr>
          <th>Course</th>
          <th>Name</th>
          <th>Google ID</th>
          <th>Institute</th>
          <th>Options</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let instructor of instructors">
          <tr (click)="instructor.showLinks = !instructor.showLinks">
            <td>{{ instructor.courseId }}</td> <!-- TODO: tooltip course name -->
            <td>{{ instructor.name }}</td>
            <td><a href="{{ instructor.homePageLink }}">{{ instructor.googleId }}</a></td>
            <td>{{ instructor.institute }}</td>
            <td>
              <a href="{{ instructor.manageAccountLink }}" *ngIf="instructor.manageAccountLink">
                <span class="glyphicon glyphicon-edit"></span>Manage this account
              </a>
            </td>
          </tr>
          <tr *ngIf="instructor.showLinks">
            <td colspan="5">
              <ul class="list-group">
                <li class="list-group-item list-group-item-success has-success">
                  <strong>Email</strong>
                  <input [value]="instructor.email" readonly class="form-control">
                </li>
                <li class="list-group-item list-group-item-info">
                  <strong>Course Join Link</strong>
                  <input [value]="instructor.courseJoinLink" readonly class="form-control">
                </li>
              </ul>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>

<div class="panel panel-primary" *ngIf="students.length">
  <div class="panel-heading">
    <strong>Students Found</strong>
    <span class="pull-right">
      <button class="btn btn-primary btn-xs" type="button" (click)="showAllStudentsLinks()">Expand All</button>
      <button class="btn btn-primary btn-xs" type="button" (click)="hideAllStudentsLinks()">Collapse All</button>
    </span>
  </div>

  <div class="table-responsive">
    <table class="table table-striped data-table" id="search_table">
      <thead>
        <tr>
          <th>Course [Section] (Team)</th>
          <th>Name</th>
          <th>Google ID [Details]</th>
          <th>Institute</th>
          <th>Comments</th>
          <th>Options</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let student of students">
          <tr (click)="student.showLinks = !student.showLinks">
            <td>{{ student.courseId }} [{{ student.section }}] ({{ student.team }})</td> <!-- TODO: tooltip course name -->
            <td>{{ student.name }}</td>
            <td><a href="{{ student.homePageLink }}">{{ student.googleId }}</a></td>
            <td>{{ student.institute }}</td>
            <td>{{ student.comments }}</td>
            <td>
              <a href="{{ student.manageAccountLink }}" *ngIf="student.manageAccountLink">
                <span class="glyphicon glyphicon-edit"></span>Manage this account
              </a>
            </td>
          </tr>
          <tr *ngIf="student.showLinks">
            <td colspan="5">
              <ul class="list-group">
                <li class="list-group-item list-group-item-success has-success">
                  <strong>Email</strong>
                  <input [value]="student.email" readonly class="form-control">
                </li>
                <li class="list-group-item list-group-item-info">
                  <strong>Course Join Link</strong>
                  <input [value]="student.courseJoinLink" readonly class="form-control">
                </li>
                <li class="list-group-item list-group-item-warning" *ngFor="let openFs of student.openSessions | keyvalue">
                  <strong>{{ openFs.key }}</strong>
                  <input [value]="openFs.value" readonly class="form-control">
                </li>
                <li class="list-group-item list-group-item-danger" *ngFor="let notOpenFs of student.notOpenSessions | keyvalue">
                  <strong>{{ notOpenFs.key }}</strong>
                  <input [value]="notOpenFs.value" readonly class="form-control">
                </li>
                <li class="list-group-item list-group-item-success" *ngFor="let publishedFs of student.publishedSessions | keyvalue">
                  <strong>{{ publishedFs.key }}</strong>
                  <input [value]="publishedFs.value" readonly class="form-control">
                </li>
              </ul>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>
